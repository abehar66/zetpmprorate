<mvc:View
    controllerName="zetpmprorate.controller.Worklist"
    xmlns="sap.m"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:core="sap.ui.core"
    xmlns:semantic="sap.f.semantic">

    <semantic:SemanticPage
        id="page"
        headerPinnable="false"
        toggleHeaderOnTitleClick="false">

        <semantic:titleHeading>
            <Title
                text="{i18n>worklistTitle}"
                level="H2"/>               
        </semantic:titleHeading>

         <semantic:titleCustomTextActions> 
            <Button id="_IDGenProrate" icon="sap-icon://kpi-corporate-performance" tooltip="Prorratear" text="{ProrationModel>/ProrateText}" press="onProrate" />
            <Button id="_IDGenPrint"  icon="sap-icon://print" text="Imprimir" tooltip="Imprimir" press="onPrint"/>
        </semantic:titleCustomTextActions>     

        <semantic:headerContent>	
           	
           <VBox alignItems="Center"  id="vbox">
           <HBox alignItems="Center" id="hbox1">
           <Label text="Expediente : " labelFor="Expediente"/>
           <ComboBox                                 
                id="Expediente"                                    
                width="200px"
                selectedKey="{ProrationModel>/ExpedienteId}"
                change="onChangeExpediente"
                items="{
                         path: 'ProrationModel>/ExpedienteSet',
                         sorter: { path: 'Key' }
                        }"
                loadItems="onLoadExpediente"
                showSecondaryValues="true" >
                <core:Item key="{ProrationModel>Key}" 
                           text="{ProrationModel>Value}" 
                           additionalText="{ProrationModel>Key}" />
                           
            </ComboBox>            
            </HBox>            
            <HBox alignItems="Center" id="hbox2">
            <Label text="Desde: " labelFor="Desde" visible="{ProrationModel>/VisibleDate}" />
            <DatePicker	id="Desde"			                	
                            value="{path: 'ParametersModel>/Desde', type:'sap.ui.model.type.Date' ,
                                    formatOptions: { style: 'medium', strictParsing: true}   }"  
                            displayFormat="medium"                                                     
                            valueFormat="dd-mm-yyyy"
			                change="handleChange"                            
			                 visible="{ProrationModel>/VisibleDate}" />                             
            </HBox>                   
            <HBox alignItems="Center" id="hbox3">     
           <Label text="Hasta: " labelFor="Hasta" visible="{ProrationModel>/VisibleDate}"/>
            <DatePicker	id="Hasta"
			                value="{path: 'ParametersModel>/Hasta', type:'sap.ui.model.type.Date' ,
                                    formatOptions: { style: 'medium', strictParsing: true}   }"  
                            displayFormat="medium"                                                     
                            valueFormat="dd-mm-yyyy"
			                change="handleChange"
			                visible="{ProrationModel>/VisibleDate}"/> 
                          
           </HBox>
           </VBox>           
             
        </semantic:headerContent>  

        <semantic:content>
           <IconTabBar
				id="iconTabBar"
				headerBackgroundDesign="Transparent"
				class="sapUiResponsiveContentPadding"
				binding="{ProrationModel}"
				select=""
				selectedKey="">				
                <items>
					<IconTabFilter id="PiezaTab" text='Gastos por Piezas' key="pieza">
						<mvc:XMLView id="PiezaView" viewName="zetpmprorate.view.Tabs.Pieza"></mvc:XMLView>
					</IconTabFilter>										
                    <IconTabFilter id="TraspasoTab" text='Traspaso a Centros' key="traspaso">
						<mvc:XMLView id="TraspasoView" viewName="zetpmprorate.view.Tabs.Traspaso"></mvc:XMLView>
					</IconTabFilter>	
                    <IconTabFilter id="ComprobanteTab" text='Gastos FI' key="comprobante">
						<mvc:XMLView id="ComprobanteView" viewName="zetpmprorate.view.Tabs.Comprobante"></mvc:XMLView>
					</IconTabFilter>	
                    </items>                
			</IconTabBar>     
        </semantic:content>        

    </semantic:SemanticPage>

</mvc:View>